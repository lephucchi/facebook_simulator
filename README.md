# Facebook Simulator

üöÄ M·ªôt n·ªÅn t·∫£ng m·∫°ng x√£ h·ªôi t∆∞∆°ng t·ª± Facebook ƒë∆∞·ª£c x√¢y d·ª±ng ho√†n ch·ªânh v·ªõi backend FastAPI (Python) v√† frontend React (TypeScript).

## üéØ T·ªïng quan d·ª± √°n

Facebook Simulator l√† m·ªôt ·ª©ng d·ª•ng web full-stack m√¥ ph·ªèng c√°c t√≠nh nƒÉng ch√≠nh c·ªßa Facebook, bao g·ªìm:

- üìù **ƒêƒÉng b√†i v√† t∆∞∆°ng t√°c**: T·∫°o post, like/reaction, comment
- üí¨ **Chat th·ªùi gian th·ª±c**: Tin nh·∫Øn real-time v·ªõi WebSocket
- üìñ **Stories**: Chia s·∫ª kho·∫£nh kh·∫Øc t·∫°m th·ªùi (24h)
- üîê **Authentication**: ƒêƒÉng k√Ω/ƒëƒÉng nh·∫≠p v·ªõi JWT
- üë• **Qu·∫£n l√Ω ng∆∞·ªùi d√πng**: Profile, avatar, online status
- üì± **Responsive Design**: T∆∞∆°ng th√≠ch v·ªõi m·ªçi thi·∫øt b·ªã

D·ª± √°n ƒë∆∞·ª£c thi·∫øt k·∫ø v·ªõi ki·∫øn tr√∫c hi·ªán ƒë·∫°i, c√≥ th·ªÉ m·ªü r·ªông v√† d·ªÖ b·∫£o tr√¨.

## üéØ Demo Credentials
- **Username:** john_doe
- **Password:** password123

## üåü Features Highlights
- ‚úÖ Real-time messaging v·ªõi WebSocket
- ‚úÖ JWT Authentication v·ªõi refresh token
- ‚úÖ File upload cho images
- ‚úÖ Reactions system (like, love, haha, wow, angry)
- ‚úÖ Stories v·ªõi auto-expire
- ‚úÖ Responsive UI v·ªõi Tailwind CSS
- ‚úÖ TypeScript cho type safety

## üöÄ Kh·ªüi ƒë·ªông nhanh

### ‚ö° Y√™u c·∫ßu h·ªá th·ªëng
- **Python 3.8+** (khuy·∫øn ngh·ªã 3.11+)
- **Node.js 16+** (khuy·∫øn ngh·ªã 18+)
- **Git** (t√πy ch·ªçn)

### üîß C√†i ƒë·∫∑t v√† ch·∫°y

#### Backend (Terminal 1)
```bash
# ƒêi·ªÅu h∆∞·ªõng ƒë·∫øn th∆∞ m·ª•c backend
cd backend

# T·∫°o v√† k√≠ch ho·∫°t m√¥i tr∆∞·ªùng ·∫£o (ch·ªâ c·∫ßn l√†m m·ªôt l·∫ßn)
python -m venv venv

# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate

# C√†i ƒë·∫∑t dependencies (ch·ªâ c·∫ßn l√†m m·ªôt l·∫ßn)
pip install -r requirements.txt

# Ch·∫°y backend server
python main.py
```

üåê **Backend s·∫Ω ch·∫°y t·∫°i:**
- **API:** http://localhost:8000
- **API Docs:** http://localhost:8000/docs
- **Health Check:** http://localhost:8000/health

#### Frontend (Terminal 2)
```bash
# ƒêi·ªÅu h∆∞·ªõng ƒë·∫øn th∆∞ m·ª•c frontend
cd frontend

# C√†i ƒë·∫∑t dependencies (ch·ªâ c·∫ßn l√†m m·ªôt l·∫ßn)
npm install

# Ch·∫°y frontend development server
npm run dev
```

üé® **Frontend s·∫Ω ch·∫°y t·∫°i:**
- **App:** http://localhost:5173

## üèóÔ∏è Ki·∫øn tr√∫c h·ªá th·ªëng

### üîß Tech Stack
**Backend:**
- **FastAPI** - Modern Python web framework
- **SQLAlchemy** - ORM v√† database toolkit
- **JWT** - Authentication v·ªõi JSON Web Tokens
- **WebSocket** - Real-time communication
- **SQLite** - Database (c√≥ th·ªÉ upgrade PostgreSQL)

**Frontend:**
- **React 19** - UI library v·ªõi hooks
- **TypeScript** - Type-safe JavaScript
- **Tailwind CSS** - Utility-first CSS framework
- **Vite** - Fast build tool v·ªõi HMR

### üóÇÔ∏è Backend Structure (FastAPI + Python)
```
backend/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/               # API route handlers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py       # Authentication endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ posts.py      # Posts CRUD operations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ messages.py   # Chat messaging API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stories.py    # Stories functionality
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ websocket.py  # Real-time WebSocket handlers
‚îÇ   ‚îú‚îÄ‚îÄ core/              # Core functionality
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py       # JWT authentication logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py     # Application configuration
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.py   # Database connection setup
‚îÇ   ‚îú‚îÄ‚îÄ models/            # Data models v√† schemas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py   # SQLAlchemy ORM models
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schemas.py    # Pydantic request/response schemas
‚îÇ   ‚îî‚îÄ‚îÄ services/          # Business logic services
‚îÇ       ‚îú‚îÄ‚îÄ init_data.py  # Sample data initialization
‚îÇ       ‚îî‚îÄ‚îÄ websocket.py  # WebSocket connection manager
‚îú‚îÄ‚îÄ uploads/              # File upload directory
‚îú‚îÄ‚îÄ main.py               # FastAPI application entry point
‚îú‚îÄ‚îÄ requirements.txt      # Python dependencies
‚îî‚îÄ‚îÄ facebook_simulator.db # SQLite database file
```

### üé® Frontend Structure (React + TypeScript)
```
frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/       # React components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chat/        # Chat-related components
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ChatWindow.tsx    # Individual chat interface
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/      # Layout components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Navbar.tsx        # Main navigation bar
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sidebar.tsx       # Left sidebar menu
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RightSidebar.tsx  # Right sidebar
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ newsfeed/    # News feed components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CreatePost.tsx    # Post creation form
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PostCard.tsx      # Individual post display
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CommentSection.tsx # Comments display
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Stories.tsx       # Stories carousel
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StoryViewer.tsx   # Full-screen story viewer
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/          # Reusable UI components
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Avatar.tsx        # User avatar component
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Button.tsx        # Custom button component
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ReactionPicker.tsx # Post reaction selector
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ MessengerDropdown.tsx # Chat dropdown
‚îÇ   ‚îú‚îÄ‚îÄ hooks/           # Custom React hooks
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useAuth.tsx  # Authentication state management
‚îÇ   ‚îú‚îÄ‚îÄ pages/           # Page components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login.tsx    # Login/Register page
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Newsfeed.tsx # Main newsfeed page
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Profile.tsx  # User profile page
‚îÇ   ‚îú‚îÄ‚îÄ types/           # TypeScript type definitions
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts     # Global type definitions
‚îÇ   ‚îî‚îÄ‚îÄ utils/           # Utility functions
‚îÇ       ‚îî‚îÄ‚îÄ api.ts       # API client v√† WebSocket setup
‚îú‚îÄ‚îÄ public/              # Static files
‚îú‚îÄ‚îÄ package.json         # Node.js dependencies
‚îú‚îÄ‚îÄ tailwind.config.js   # Tailwind CSS configuration
‚îî‚îÄ‚îÄ vite.config.ts      # Vite build configuration
```

## üîß Chi ti·∫øt c√°c t√≠nh nƒÉng

### üîê H·ªá th·ªëng Authentication
- **ƒêƒÉng k√Ω/ƒêƒÉng nh·∫≠p:** Form validation v·ªõi email/username
- **JWT Tokens:** Access token (1 gi·ªù) + Refresh token (7 ng√†y)
- **Password Security:** Bcrypt hashing
- **Session Management:** HTTP-only cookies cho refresh tokens
- **Auto-refresh:** T·ª± ƒë·ªông l√†m m·ªõi token khi h·∫øt h·∫°n

**Endpoints:**
```
POST /api/auth/register - ƒêƒÉng k√Ω t√†i kho·∫£n m·ªõi
POST /api/auth/login    - ƒêƒÉng nh·∫≠p
POST /api/auth/logout   - ƒêƒÉng xu·∫•t
POST /api/auth/refresh  - L√†m m·ªõi access token
GET  /api/auth/me       - L·∫•y th√¥ng tin user hi·ªán t·∫°i
GET  /api/auth/users    - L·∫•y danh s√°ch t·∫•t c·∫£ users
```

### üì± T√≠nh nƒÉng Social Media

#### Posts Management
- **CRUD Operations:** T·∫°o, ƒë·ªçc, c·∫≠p nh·∫≠t, x√≥a b√†i vi·∫øt
- **Rich Content:** Text content + image uploads
- **Pagination:** Ph√¢n trang v·ªõi 10 b√†i/trang
- **Authorization:** Ch·ªâ author m·ªõi c√≥ th·ªÉ s·ª≠a/x√≥a b√†i

**Database Schema:**
```sql
posts:
- id (Primary Key)
- content (Text)
- image_url (String, optional)
- author_id (Foreign Key -> users.id)
- created_at, updated_at (Timestamps)
```

**Endpoints:**
```
GET    /api/posts              - L·∫•y danh s√°ch b√†i vi·∫øt (c√≥ ph√¢n trang)
POST   /api/posts              - T·∫°o b√†i vi·∫øt m·ªõi
GET    /api/posts/{id}         - L·∫•y b√†i vi·∫øt theo ID
PUT    /api/posts/{id}         - C·∫≠p nh·∫≠t b√†i vi·∫øt
DELETE /api/posts/{id}         - X√≥a b√†i vi·∫øt
GET    /api/posts/sample       - L·∫•y b√†i vi·∫øt m·∫´u (kh√¥ng c·∫ßn auth)
```

#### Reactions System
- **Multiple Reactions:** like, love, haha, wow, angry
- **Toggle Logic:** Click c√πng reaction ƒë·ªÉ remove
- **Real-time Updates:** C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng reaction ngay l·∫≠p t·ª©c
- **User Tracking:** Theo d√µi reaction c·ªßa t·ª´ng user

**Database Schema:**
```sql
post_reactions:
- id (Primary Key)
- user_id (Foreign Key -> users.id)
- post_id (Foreign Key -> posts.id)
- reaction_type (String: like, love, haha, wow, angry)
- created_at, updated_at (Timestamps)
- UNIQUE(user_id, post_id) - M·ªói user ch·ªâ c√≥ 1 reaction/post
```

**Endpoints:**
```
POST /api/posts/{id}/like      - Toggle like (legacy)
POST /api/posts/{id}/reactions - Add/update/remove reaction
```

#### Comments System
- **Nested Comments:** H·ªó tr·ª£ reply (parent_comment_id)
- **Rich Display:** Author info, timestamps, like counts
- **Real-time:** Hi·ªÉn th·ªã ngay sau khi t·∫°o
- **Authorization:** Author c√≥ th·ªÉ x√≥a comment c·ªßa m√¨nh

**Database Schema:**
```sql
comments:
- id (Primary Key)
- content (Text)
- post_id (Foreign Key -> posts.id)
- author_id (Foreign Key -> users.id)
- parent_comment_id (Foreign Key -> comments.id, nullable)
- created_at, updated_at (Timestamps)
```

**Endpoints:**
```
POST /api/posts/{id}/comments - T·∫°o comment m·ªõi
```

### üí¨ Real-time Chat System

#### WebSocket Architecture
- **Connection Management:** Theo d√µi user online/offline
- **Message Broadcasting:** G·ª≠i tin nh·∫Øn real-time
- **Typing Indicators:** Hi·ªÉn th·ªã khi user ƒëang g√µ
- **Read Receipts:** ƒê√°nh d·∫•u tin nh·∫Øn ƒë√£ ƒë·ªçc

**WebSocket Events:**
```javascript
// G·ª≠i tin nh·∫Øn
{
  "type": "message",
  "receiver_id": 123,
  "content": "Hello!"
}

// Typing indicator
{
  "type": "typing", 
  "receiver_id": 123,
  "is_typing": true
}

// ƒê√°nh d·∫•u ƒë√£ ƒë·ªçc
{
  "type": "mark_read",
  "other_user_id": 123
}
```

#### Messages Database
```sql
messages:
- id (Primary Key)
- content (Text)
- sender_id (Foreign Key -> users.id)
- receiver_id (Foreign Key -> users.id)
- is_read (Boolean, default False)
- created_at (Timestamp)
```

#### Chat Features
- **Private Messaging:** Chat 1-1 gi·ªØa users
- **Message History:** L∆∞u tr·ªØ v√† t·∫£i l·∫°i tin nh·∫Øn c≈©
- **Online Status:** Hi·ªÉn th·ªã user online/offline
- **Unread Count:** ƒê·∫øm s·ªë tin nh·∫Øn ch∆∞a ƒë·ªçc
- **Message Persistence:** Tin nh·∫Øn ƒë∆∞·ª£c l∆∞u trong database

**Chat Endpoints:**
```
GET  /api/messages/chats           - L·∫•y danh s√°ch chat
GET  /api/messages/{user_id}       - L·∫•y tin nh·∫Øn v·ªõi user
POST /api/messages/{user_id}       - G·ª≠i tin nh·∫Øn
POST /api/messages/{user_id}/mark-read - ƒê√°nh d·∫•u ƒë√£ ƒë·ªçc
WS   /ws?token={jwt_token}         - WebSocket connection
```

### üìñ Stories System
- **Temporary Content:** Stories t·ª± ƒë·ªông expire sau 24 gi·ªù
- **Multiple Images:** H·ªó tr·ª£ nhi·ªÅu ·∫£nh per story
- **Story Viewer:** Full-screen viewer v·ªõi navigation
- **View Tracking:** Theo d√µi ai ƒë√£ xem story (TODO)

**Database Schema:**
```sql
stories:
- id (Primary Key)
- author_id (Foreign Key -> users.id)
- title (String, optional)
- created_at (Timestamp)
- expires_at (Timestamp, +24 hours)

story_images:
- id (Primary Key)
- story_id (Foreign Key -> stories.id)
- image_url (String)
- caption (Text, optional)
- order_index (Integer)
- created_at (Timestamp)
```

**Endpoints:**
```
GET  /api/stories              - L·∫•y stories ƒëang active
POST /api/stories/{id}/view    - ƒê√°nh d·∫•u ƒë√£ xem story
```

### üë• User Management
- **User Profiles:** Full name, username, email, avatar, bio
- **Online Status:** Theo d√µi tr·∫°ng th√°i online/offline
- **Friend System:** Relationships gi·ªØa users (TODO: expand)
- **Avatar Management:** Upload v√† hi·ªÉn th·ªã avatar

**Database Schema:**
```sql
users:
- id (Primary Key)
- email (String, unique)
- username (String, unique)
- full_name (String)
- hashed_password (String)
- avatar_url (String, optional)
- bio (Text, optional)
- is_active (Boolean, default True)
- is_online (Boolean, default False)
- last_seen (Timestamp)
- created_at, updated_at (Timestamps)

friendships (Many-to-Many):
- user_id (Foreign Key -> users.id)
- friend_id (Foreign Key -> users.id)
```

## üîß Tech Stack Details

### Backend Technologies
- **FastAPI 0.104.1:** Modern Python web framework
  - Automatic API documentation (Swagger/OpenAPI)
  - Type hints v√† validation
  - Async/await support
  - High performance
- **SQLAlchemy 1.4.50:** SQL toolkit v√† ORM
  - Declarative models
  - Relationship management
  - Query optimization
- **Pydantic 2.5.0:** Data validation
  - Type-safe request/response models
  - Automatic JSON serialization
  - Schema generation
- **Python-JOSE:** JWT token handling
- **Passlib[bcrypt]:** Password hashing
- **WebSockets 12.0:** Real-time communication
- **Uvicorn:** ASGI server

### Frontend Technologies
- **React 19:** Modern UI library
  - Hooks-based architecture
  - Component composition
  - Virtual DOM optimization
- **TypeScript 5.8.3:** Type-safe JavaScript
  - Interface definitions
  - Compile-time error checking
  - Better IDE support
- **Tailwind CSS 3.4.17:** Utility-first CSS
  - Responsive design
  - Dark mode support
  - Custom component styling
- **Vite 7.0.0:** Fast build tool
  - Hot Module Replacement (HMR)
  - Fast builds
  - ES modules support
- **Lucide React:** Icon library

### Database Design
- **SQLite:** Development database
  - File-based, zero-configuration
  - ACID compliance
  - Easily upgradeable to PostgreSQL
- **Relationships:**
  - One-to-Many: User -> Posts, Posts -> Comments
  - Many-to-Many: Users <-> Friends, Users <-> Liked Posts
  - Foreign Keys: Proper referential integrity

## üîí Security Features

### Authentication Security
- **JWT Best Practices:**
  - Short-lived access tokens (1 hour)
  - Long-lived refresh tokens (7 days)
  - HTTP-only cookies cho refresh tokens
  - Secure token storage
- **Password Security:**
  - Bcrypt hashing with salt
  - Minimum password requirements
  - Protection against timing attacks
- **CORS Configuration:**
  - Specific origin allowlist
  - Credentials support
  - Method v√† header restrictions

### API Security
- **Authorization Middleware:**
  - Token validation on protected routes
  - User context injection
  - Optional authentication support
- **Input Validation:**
  - Pydantic schema validation
  - SQL injection protection
  - XSS prevention
- **Error Handling:**
  - Consistent error responses
  - Security information leakage prevention

## ÔøΩÔ∏è C·∫•u h√¨nh m√¥i tr∆∞·ªùng

### üîß Backend Environment (.env)
T·∫°o file `.env` trong th∆∞ m·ª•c `backend/`:
```env
# Database
DATABASE_URL=sqlite:///./facebook_simulator.db

# JWT Security
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production-2024
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# Server Configuration
PORT=8000
HOST=127.0.0.1
DEBUG=True

# CORS
FRONTEND_URL=http://localhost:5173

# WebSocket
WEBSOCKET_URL=ws://localhost:8000/ws

# File Upload
MAX_FILE_SIZE=10485760  # 10MB
UPLOAD_FOLDER=uploads/
```

### üé® Frontend Environment (.env)
T·∫°o file `.env` trong th∆∞ m·ª•c `frontend/`:
```env
# API Configuration
VITE_API_BASE_URL=http://localhost:8000/api
VITE_WEBSOCKET_URL=ws://localhost:8000/ws

# App Configuration
VITE_APP_NAME=Facebook Simulator
VITE_APP_VERSION=1.0.0

# Development
VITE_ENV=development
VITE_DEBUG=true

# File Upload
VITE_MAX_FILE_SIZE=10485760
VITE_ACCEPTED_IMAGE_TYPES=image/jpeg,image/png,image/gif,image/webp
```

## üöÄ Development Setup

### üì¶ C√†i ƒë·∫∑t Dependencies

#### Backend Dependencies
```bash
cd backend
pip install -r requirements.txt
```

**C√°c package ch√≠nh:**
- `fastapi` - Web framework
- `uvicorn` - ASGI server
- `sqlalchemy` - ORM
- `python-jose[cryptography]` - JWT
- `passlib[bcrypt]` - Password hashing
- `python-multipart` - File uploads

#### Frontend Dependencies
```bash
cd frontend
npm install
```

**C√°c package ch√≠nh:**
- `react` - UI library
- `typescript` - Type checking
- `tailwindcss` - CSS framework
- `vite` - Build tool
- `lucide-react` - Icons

### üîÑ Development Commands

#### Backend
```bash
# Run development server
python main.py

# Run with auto-reload
uvicorn main:app --reload --host 0.0.0.0 --port 8000

# Initialize sample data
curl -X POST http://localhost:8000/api/init-sample-data
```

#### Frontend
```bash
# Run development server
npm run dev

# Build for production
npm run build

# Preview production build
npm run preview

# Type checking
npm run type-check

# Linting
npm run lint
```

### Development Workflow

#### Th√™m t√≠nh nƒÉng m·ªõi
1. **Backend:**
   - T·∫°o model trong `backend/app/models/database.py`
   - T·∫°o schema trong `backend/app/models/schemas.py`
   - Implement API routes trong `backend/app/api/`
   - Th√™m business logic trong `backend/app/services/`

2. **Frontend:**
   - T·∫°o TypeScript types trong `frontend/src/types/`
   - Implement components trong `frontend/src/components/`
   - Th√™m API calls trong `frontend/src/utils/api.ts`
   - Create pages trong `frontend/src/pages/`

#### Database Migration
1. Modify models trong `backend/app/models/database.py`
2. Database s·∫Ω t·ª± ƒë·ªông ƒë∆∞·ª£c t·∫°o/c·∫≠p nh·∫≠t khi start server
3. Cho production, implement proper migration system v·ªõi Alembic

#### Testing Strategy
- **Backend:** Unit tests v·ªõi pytest
- **Frontend:** Component tests v·ªõi React Testing Library
- **Integration:** API endpoint testing
- **E2E:** End-to-end testing v·ªõi Playwright

## üìä API Documentation

### Complete API Reference

#### Authentication APIs
```http
POST /api/auth/register
Content-Type: application/json

{
  "email": "user@example.com",
  "username": "username",
  "full_name": "Full Name",
  "password": "securepassword"
}

Response: 201 Created
{
  "success": true,
  "message": "User registered successfully",
  "data": {"user_id": 123}
}
```

```http
POST /api/auth/login
Content-Type: application/json

{
  "username": "username",
  "password": "password"
}

Response: 200 OK
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGci...",
  "token_type": "bearer",
  "expires_in": 3600
}
```

#### Posts APIs
```http
GET /api/posts?page=1&per_page=10
Authorization: Bearer {access_token}

Response: 200 OK
[
  {
    "id": 1,
    "content": "Post content",
    "image_url": "https://example.com/image.jpg",
    "author": {
      "id": 123,
      "username": "user",
      "full_name": "User Name",
      "avatar_url": "https://example.com/avatar.jpg"
    },
    "created_at": "2024-01-01T12:00:00Z",
    "likes_count": 5,
    "comments_count": 3,
    "is_liked": false,
    "current_user_reaction": null,
    "reactions": [...],
    "comments": [...]
  }
]
```

#### WebSocket Protocol
```javascript
// Connection
const ws = new WebSocket('ws://localhost:8000/ws?token={jwt_token}');

// Send message
ws.send(JSON.stringify({
  "type": "message",
  "receiver_id": 123,
  "content": "Hello there!"
}));

// Receive message
ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  if (data.type === 'message') {
    // Handle incoming message
    console.log(`Message from ${data.sender.username}: ${data.content}`);
  }
};
```

## üé® UI/UX Design

### Design System
- **Color Palette:**
  - Primary: Blue (#1877F2) - Facebook blue
  - Secondary: Gray (#65676B)
  - Success: Green (#42B883)
  - Danger: Red (#E11D48)
  - Background: Light Gray (#F0F2F5)

- **Typography:**
  - Font Family: System fonts stack
  - Sizes: text-xs to text-4xl
  - Weights: font-normal, font-medium, font-semibold, font-bold

- **Components:**
  - Consistent spacing v·ªõi Tailwind utilities
  - Rounded corners (rounded-lg, rounded-full)
  - Shadow system (shadow-sm, shadow-md, shadow-lg)
  - Hover effects v√† transitions

### Responsive Design
- **Mobile First:** Thi·∫øt k·∫ø ∆∞u ti√™n mobile
- **Breakpoints:**
  - sm: 640px
  - md: 768px
  - lg: 1024px
  - xl: 1280px
- **Layout:** Flexible grid system v·ªõi Tailwind CSS

## üîÆ Roadmap & Future Enhancements

### ‚úÖ Ho√†n th√†nh
- [x] Authentication system v·ªõi JWT
- [x] Posts CRUD v·ªõi reactions
- [x] Real-time chat v·ªõi WebSocket
- [x] Stories v·ªõi auto-expire
- [x] File upload system
- [x] Responsive UI design
- [x] Comments system
- [x] Online status tracking

### üöß ƒêang ph√°t tri·ªÉn
- [ ] **Notification System** - Push notifications cho activities
- [ ] **Advanced Search** - T√¨m ki·∫øm users, posts, content
- [ ] **User Settings** - C√†i ƒë·∫∑t privacy, preferences
- [ ] **Password Reset** - Qu√™n m·∫≠t kh·∫©u qua email

### üîÆ Phase 1: Core Features
- [ ] **Friend System** - G·ª≠i/nh·∫≠n friend requests
- [ ] **Groups** - T·∫°o v√† tham gia groups
- [ ] **Events** - T·∫°o v√† qu·∫£n l√Ω events
- [ ] **Photo Albums** - T·ªï ch·ª©c ·∫£nh theo albums
- [ ] **Video Posts** - Upload v√† share videos

### üéØ Phase 2: Advanced Features
- [ ] **AI Content Recommendation** - G·ª£i √Ω n·ªôi dung ph√π h·ª£p
- [ ] **Content Moderation** - Auto-detect inappropriate content
- [ ] **Advanced Privacy Settings** - Ki·ªÉm so√°t visibility
- [ ] **Analytics Dashboard** - Insights cho content creators
- [ ] **Dark Mode** - Theme switching

### üöÄ Phase 3: Scalability
- [ ] **Mobile App** - React Native app
- [ ] **Microservices** - Break down monolith
- [ ] **Redis Caching** - Performance optimization
- [ ] **CDN Integration** - Fast content delivery
- [ ] **Database Optimization** - PostgreSQL + sharding

## üèóÔ∏è Production Deployment

### Backend Deployment
```bash
# Production environment setup
pip install gunicorn
gunicorn main:app -w 4 -k uvicorn.workers.UvicornWorker

# Database migration to PostgreSQL
DATABASE_URL=postgresql://user:password@localhost/dbname

# Security configurations
DEBUG=False
JWT_SECRET_KEY=secure-production-key
CORS_ORIGINS=["https://yourdomain.com"]
```

### Frontend Deployment
```bash
# Build for production
npm run build

# Serve v·ªõi Nginx
server {
    listen 80;
    server_name yourdomain.com;
    
    location / {
        root /path/to/dist;
        try_files $uri $uri/ /index.html;
    }
    
    location /api {
        proxy_pass http://localhost:8000;
    }
    
    location /ws {
        proxy_pass http://localhost:8000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
}
```

### Docker Deployment
```dockerfile
# Dockerfile.backend
FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
CMD ["gunicorn", "main:app", "-w", "4", "-k", "uvicorn.workers.UvicornWorker", "--bind", "0.0.0.0:8000"]

# Dockerfile.frontend
FROM node:18-alpine as build
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=build /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/nginx.conf
```

```yaml
# docker-compose.yml
version: '3.8'
services:
  backend:
    build: ./backend
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=postgresql://postgres:password@db:5432/facebook_simulator
    depends_on:
      - db

  frontend:
    build: ./frontend
    ports:
      - "80:80"
    depends_on:
      - backend

  db:
    image: postgres:13
    environment:
      - POSTGRES_DB=facebook_simulator
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=password
    volumes:
      - postgres_data:/var/lib/postgresql/data

volumes:
  postgres_data:
```

## üêõ Troubleshooting & FAQ

### ‚ùì Common Issues

#### üîß Backend Issues
```bash
# Port ƒë√£ ƒë∆∞·ª£c s·ª≠ d·ª•ng
‚ùå Error: [Errno 48] Address already in use
‚úÖ Solution: 
   - Kill existing process: netstat -ano | findstr :8000
   - Or change port in config.py

# Database locked
‚ùå Error: database is locked
‚úÖ Solution: 
   - ƒê√≥ng t·∫•t c·∫£ connections
   - Restart backend server
   - Delete database file ƒë·ªÉ reset

# Module import errors
‚ùå Error: ModuleNotFoundError: No module named 'app'
‚úÖ Solution: 
   - Activate virtual environment
   - Install dependencies: pip install -r requirements.txt
   - Run from backend directory
```

#### üé® Frontend Issues
```bash
# Node modules issues
‚ùå Error: Module not found
‚úÖ Solution: 
   - Delete node_modules: rm -rf node_modules
   - Clear npm cache: npm cache clean --force
   - Reinstall: npm install

# Port conflicts
‚ùå Error: Port 5173 is already in use
‚úÖ Solution: 
   - Use different port: npm run dev -- --port 3000
   - Or kill existing process

# TypeScript errors
‚ùå Error: Type errors in build
‚úÖ Solution: 
   - Check type definitions in types/index.ts
   - Run type check: npm run type-check
```

#### üîó WebSocket/API Issues
```bash
# CORS errors
‚ùå Error: Cross-origin request blocked
‚úÖ Solution: 
   - Check CORS settings in backend main.py
   - Verify frontend URL in allowed origins

# WebSocket connection failed
‚ùå Error: WebSocket connection failed
‚úÖ Solution: 
   - Check backend server running
   - Verify JWT token is valid
   - Check network/firewall settings

# API authentication errors
‚ùå Error: 401 Unauthorized
‚úÖ Solution: 
   - Check JWT token in localStorage
   - Verify token format and expiry
   - Re-login if token expired
```

### üîç Debug Tips

#### Backend Debugging
```python
# Enable debug mode
DEBUG=True in .env

# Add logging
import logging
logging.basicConfig(level=logging.DEBUG)

# Check database content
python -c "from app.models.database import *; print(User.query.all())"
```

#### Frontend Debugging
```javascript
// Check API calls in browser console
console.log('API Response:', response);

// Check WebSocket connection
console.log('WebSocket state:', ws.readyState);

// Check authentication state
console.log('Auth token:', localStorage.getItem('token'));
```

### üìû Getting Help

**üÜò N·∫øu g·∫∑p v·∫•n ƒë·ªÅ:**
1. Check console logs (F12 in browser)
2. Verify environment variables
3. Check if all services are running
4. Try clearing cache/cookies
5. Restart both frontend and backend

**üìù B√°o c√°o l·ªói:**
- Include error messages
- Steps to reproduce
- Environment details (OS, versions)
- Screenshots if applicable

## üìù Code Style v√† Best Practices

### Backend (Python)
```python
# Follow PEP 8
# Use type hints
def create_post(
    post_data: PostCreate,
    current_user: User,
    db: Session
) -> PostResponse:
    pass

# Async/await for I/O operations
async def get_posts(db: Session) -> List[Post]:
    pass

# Proper error handling
try:
    result = await operation()
except SpecificError as e:
    raise HTTPException(status_code=400, detail=str(e))
```

### Frontend (TypeScript)
```typescript
// Use interfaces cho type definitions
interface User {
  id: string;
  name: string;
  avatar: string;
  isOnline?: boolean;
}

// Function components v·ªõi proper typing
const PostCard: React.FC<PostCardProps> = ({ post, onLike }) => {
  // Component logic
};

// Custom hooks cho reusable logic
const useAuth = () => {
  // Hook implementation
};
```

## üìÑ License & Contributing

### üìú License
D·ª± √°n n√†y ƒë∆∞·ª£c ph√°t h√†nh d∆∞·ªõi gi·∫•y ph√©p **MIT License**.

### ü§ù Contributing

Ch√∫ng t√¥i lu√¥n ch√†o ƒë√≥n c√°c contributions! H√£y theo c√°c b∆∞·ªõc sau:

1. **Fork** repository
2. **Clone** v·ªÅ m√°y local: `git clone https://github.com/yourname/facebook-simulator.git`
3. T·∫°o **feature branch**: `git checkout -b feature/AmazingFeature`
4. **Commit** changes: `git commit -m 'Add some AmazingFeature'`
5. **Push** to branch: `git push origin feature/AmazingFeature`
6. M·ªü **Pull Request**

### üìã Development Guidelines

#### üîß Code Standards
- **Python**: Follow PEP 8, use type hints
- **TypeScript**: Use strict mode, define interfaces
- **CSS**: Use Tailwind utilities, follow BEM convention
- **Git**: Use conventional commits (feat:, fix:, docs:)

#### ‚úÖ Before Contributing
- [ ] Write tests for new features
- [ ] Follow existing code style
- [ ] Update documentation
- [ ] Add proper error handling
- [ ] Ensure responsive design
- [ ] Test on multiple browsers

#### üß™ Testing
```bash
# Backend tests
cd backend
python -m pytest tests/

# Frontend tests
cd frontend
npm run test

# E2E tests
npm run test:e2e
```

### üåü Contributors

C·∫£m ∆°n t·∫•t c·∫£ nh·ªØng ng∆∞·ªùi ƒë√£ ƒë√≥ng g√≥p cho d·ª± √°n n√†y!

<!-- Contributors will be added here -->

---

## üéâ Acknowledgments

- **Facebook** - Inspiration for UI/UX design
- **FastAPI** - Amazing Python web framework
- **React** - Powerful UI library
- **Tailwind CSS** - Excellent utility framework
- **Community** - Open source contributors

---

## üìû Support & Contact

### üÜò Support
- üìß **Email**: support@facebook-simulator.com
- üêõ **Bug Reports**: [GitHub Issues](https://github.com/yourname/facebook-simulator/issues)
- üí¨ **Discussions**: [GitHub Discussions](https://github.com/yourname/facebook-simulator/discussions)

### üì± Connect
- üåê **Website**: https://facebook-simulator.com
- üìò **Documentation**: https://docs.facebook-simulator.com
- üì∫ **Demo**: https://demo.facebook-simulator.com

---

<div align="center">

**üöÄ Happy Coding! üöÄ**

*D·ª± √°n n√†y ƒë∆∞·ª£c x√¢y d·ª±ng v·ªõi ‚ù§Ô∏è cho m·ª•c ƒë√≠ch h·ªçc t·∫≠p v√† demonstration.*

*Kh√¥ng s·ª≠ d·ª•ng cho m·ª•c ƒë√≠ch th∆∞∆°ng m·∫°i m√† kh√¥ng c√≥ permission.*

---

**‚≠ê N·∫øu project h·ªØu √≠ch, h√£y cho ch√∫ng t√¥i 1 star nh√©! ‚≠ê**

</div>
